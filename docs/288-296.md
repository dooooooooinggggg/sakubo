# DoS
Denial of Service (サービスの拒否)

情報を盗みだすことではなく, サービスへのアクセスを妨害することを目的とした攻撃.

アーキテクチャやプログラムの特定バージョンに依存したものから, 実相寺の見過ごしを狙って攻撃するものまで.

## SYN Flooding
### SYN
TCP の接続において, 3 way handshake に用いられる接続要求のためのパケット

### 攻撃手法
コネクションの情報と状態を保存する TCP/IP スタックの管理できるコネクション数の制限を突いた攻撃.
`SYN パケット`の送信元に対して攻撃対象は `ACK パケット`を返却することでコネクションを確立するが, ここで送信元として存在しないアドレスに偽装することで, 応答待ちのコネクションを保管する`バックログキュー`に滞留させる.

## Ping of Death
巨大なデータを保持した ICMP エコー要求により, 仕様により決められた 2^^16 を超過し, クラッシュしてしまう.
現在では ICMP に関しては対策が進んできたが, 新しいプロトコルなどでは歴史を繰り返すケースもある(ex. bluetooth)

## Teadrop
IP パケットのフラグメントのオフセットが重なり合うように仕組むことで, クラッシュを引き起こす

## Ping Flooding
シンプルに巨大な ping パケットを大量に送信することで単に帯域幅を消費する.

## Amplification Attack
パケットの大きさを増幅させることでよりローコストに攻撃を起こす.
実現方法としては, 多くの機器が稼働している(多くのIPアドレスがある)増幅用のネットワークを通過させることで, そこから偽の送信元アドレス(攻撃対象)に向けて ICMP エコー応答を送りつける.

## 分散 DoS 攻撃
デーモンを複数のホストにインストールし, それぞれを起点に一斉に攻撃を行うもの

# TCP/IP のハイジャック
## 攻撃方法
1. この攻撃を行うためには, 攻撃対象と同じネットワーク内にいる必要がある.
2. また, ホストから攻撃対象へ送信された TCP パケットのヘッダ内に埋まっているシーケンス番号が必要. これはネットワークをスニッフィングすることで獲得を狙う.

ネットワークのIPアドレス(1)とシーケンス番号(2)を用いてニセのパケットを作り, それを用いて攻撃を行う.

## RSTを用いたハイジャック
この攻撃方法を活用したハイジャックの簡単な方法として, RST(リセットパケット)を用いるものがある.
RSTを正常なものであるように偽装することで, コネクションのリセットを狙うことができる.

### 細かい話
大まかな攻撃手順は `libpcap でフニッフィング -> libnet で RST を注入` の流れ.
libcap ではネットワーク内の攻撃対象とホストの確立された TCP コネクションのパケットさえ見れれば良いので, 適宜フィルタリングなどの処理が必要.
このフィルタはプログラムのように記述することができ, 今回は `tcp[tcpflags] & tcp-ack != 0` が条件.
